<!-- /* Código HTML para página de estadísticas. 

El documento puede contener inserción de CSS y Javascript según necesidad para mayor claridad y/o simplicidad de programación.

Se utiliza Chart.js

Por Valeria Vallejos Franciscangeli 
Para CC5002- Otoño 2022 */


/* =========================INICIO DEL DOCUMENTO================================ */ -->

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

  <link rel="stylesheet" href="css/style-estadisticas.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">

  <title>HobbyApp - Estadísticas</title>
  <link rel="icon" href="img/icono-nf2.png" type="image/icon"> <!-- icono-->

</head>

<body>
  <!--- links -->
  <div class="w3-bar w3-theme-light">
    <a href="./cgi-bin/portada.py" class="w3-bar-item w3-button w3-padding-16">Inicio</a>
    <a href="./cgi-bin/formulario.py" class="w3-bar-item w3-button w3-padding-16">Informar actividad</a>
    <a href=./cgi-bin/listado.py class="w3-bar-item w3-button w3-padding-16">Ver listado de Actividades</a>
    <a href=# class="w3-bar-item w3-button w3-padding-16">Estadísticas</a>
  </div>


  <!-- Header -->
  <header class="w3-container w3-theme w3-padding" id="myHeader">
    <div class="w3-center">
      <h1 class="w3-xxxlarge w3-animate-bottom">HobbyApp</h1>
      <h4>Bienvenide a HobbyApp! Aquí puedes encontrar entretenidas actividades para conectarte con tu comunidad y crear
        nuevas amistades</h4>
    </div>
  </header>
  <!-- ########################################### -->

  <h2 class="w3-center">Estadísticas de las actividades ingresadas</h2>
  <div class="w3-border">
    <div class="w3-bar w3-theme">
      <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openGraph(event,'lineas')">Cantidad de
        actividades totales por día</button>
      <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openGraph(event,'tortas')">Cantidad de
        actividades totales según categoría</button>
      <button class="w3-bar-item w3-button testbtn w3-padding-16" onclick="openGraph(event,'barras')">Total de
        actividades mensuales según horario</button>
    </div>

    <div id="lineas" class="w3-container city w3-animate-opacity">
      <h2>Cantidad de actividades totales por día</h2>
      <canvas id="linea" class="grafico"></canvas>
      <p>En este gráfico se representa la totalidad de actividades registradas para cada día hasta el momento.</p>
    </div>

    <div id="tortas" class="w3-container city w3-animate-opacity">
      <h2>Cantidad de actividades totales según categoría</h2>
      <canvas id="torta" class="grafico"></canvas>
      <p>En este gráfico se representa la cantidad total de actividades registradas al momento en cada categoría.</p>
    </div>

    <div id="barras" class="w3-container city w3-animate-opacity">
      <h2>Total de actividades mensuales según horario de inicio</h2>
      <canvas id="barra" class="grafico"></canvas>
      <p>En este gráfico se representa la cantidad total de actividades registradas al momento por mes, según su hora de
        inicio. </p>
    </div>
  </div> <br> <br>
  <!-- ###########################################33 -->

  <!-- Footer -->
  <footer class="w3-container w3-theme-dark w3-padding-16">
    <h3>HobbyApp - 2022</h3>
    <p>Plantillas de <a href="https://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    <a href="../cgi-bin/portada.py" class='w3-bar-item w3-button w3-theme w3-hover-theme'
      style="text-align: center;">Home</a>
    <div style="position:relative;bottom:55px;" class="w3-tooltip w3-right">
      <span class="w3-text w3-theme-light w3-padding">Go To Top</span>
      <a class="w3-text-white" href="#myHeader"><span class="w3-xlarge">
          <i class="fa fa-chevron-circle-up"></i></span></a>
    </div>
  </footer>


  <script>

    // grafico de linea =====================---------------------

    let xValues = ['06-04-2022', '07-04-2022', '08-04-2022', '09-04-2022', '10-04-2022', '11-04-2022', '12-04-2022', '13-04-2022', '14-04-2022', '15-04-2022', '16-04-2022', '17-04-2022', '18-04-2022', '19-04-2022', '20-04-2022', '21-04-2022', '22-04-2022', '23-04-2022', '24-04-2022', '25-04-2022', '26-04-2022', '27-04-2022', '28-04-2022', '29-04-2022', '30-04-2022', '01-05-2022', '02-05-2022', '03-05-2022', '04-05-2022', '05-05-2022', '06-05-2022', '07-05-2022', '08-05-2022', '09-05-2022', '10-05-2022', '11-05-2022', '12-05-2022', '13-05-2022', '14-05-2022', '15-05-2022', '16-05-2022', '17-05-2022', '18-05-2022', '19-05-2022', '20-05-2022', '21-05-2022', '22-05-2022', '23-05-2022', '24-05-2022', '25-05-2022', '26-05-2022', '27-05-2022', '28-05-2022', '29-05-2022', '30-05-2022', '31-05-2022', '01-06-2022', '02-06-2022', '03-06-2022', '04-06-2022', '05-06-2022', '06-06-2022', '07-06-2022', '08-06-2022', '09-06-2022', '10-06-2022', '11-06-2022', '12-06-2022', '13-06-2022', '14-06-2022', '15-06-2022', '16-06-2022', '17-06-2022', '18-06-2022', '19-06-2022', '20-06-2022', '21-06-2022', '22-06-2022', '23-06-2022', '24-06-2022', '25-06-2022', '26-06-2022', '27-06-2022', '28-06-2022', '29-06-2022', '30-06-2022', '01-07-2022', '02-07-2022', '03-07-2022', '04-07-2022', '05-07-2022', '06-07-2022', '07-07-2022', '08-07-2022', '09-07-2022', '10-07-2022', '11-07-2022', '12-07-2022', '13-07-2022', '14-07-2022', '15-07-2022', '16-07-2022', '17-07-2022', '18-07-2022', '19-07-2022', '20-07-2022', '21-07-2022', '22-07-2022', '23-07-2022', '24-07-2022', '25-07-2022', '26-07-2022', '27-07-2022', '28-07-2022', '29-07-2022', '30-07-2022', '31-07-2022', '01-08-2022', '02-08-2022', '03-08-2022', '04-08-2022', '05-08-2022', '06-08-2022', '07-08-2022', '08-08-2022', '09-08-2022', '10-08-2022', '11-08-2022', '12-08-2022', '13-08-2022', '14-08-2022', '15-08-2022', '16-08-2022', '17-08-2022', '18-08-2022', '19-08-2022', '20-08-2022', '21-08-2022', '22-08-2022', '23-08-2022', '24-08-2022', '25-08-2022', '26-08-2022', '27-08-2022', '28-08-2022', '29-08-2022', '30-08-2022', '31-08-2022', '01-09-2022', '02-09-2022', '03-09-2022', '04-09-2022', '05-09-2022', '06-09-2022', '07-09-2022', '08-09-2022', '09-09-2022', '10-09-2022', '11-09-2022', '12-09-2022', '13-09-2022', '14-09-2022', '15-09-2022', '16-09-2022', '17-09-2022', '18-09-2022', '19-09-2022', '20-09-2022', '21-09-2022', '22-09-2022', '23-09-2022', '24-09-2022', '25-09-2022', '26-09-2022', '27-09-2022', '28-09-2022', '29-09-2022', '30-09-2022', '01-10-2022', '02-10-2022', '03-10-2022', '04-10-2022', '05-10-2022', '06-10-2022', '07-10-2022', '08-10-2022', '09-10-2022', '10-10-2022', '11-10-2022', '12-10-2022', '13-10-2022', '14-10-2022', '15-10-2022', '16-10-2022', '17-10-2022', '18-10-2022', '19-10-2022', '20-10-2022', '21-10-2022', '22-10-2022', '23-10-2022', '24-10-2022', '25-10-2022', '26-10-2022', '27-10-2022', '28-10-2022', '29-10-2022', '30-10-2022', '31-10-2022', '01-11-2022', '02-11-2022', '03-11-2022', '04-11-2022', '05-11-2022', '06-11-2022', '07-11-2022', '08-11-2022', '09-11-2022', '10-11-2022', '11-11-2022', '12-11-2022', '13-11-2022', '14-11-2022', '15-11-2022', '16-11-2022', '17-11-2022', '18-11-2022', '19-11-2022', '20-11-2022', '21-11-2022', '22-11-2022', '23-11-2022', '24-11-2022', '25-11-2022', '26-11-2022', '27-11-2022', '28-11-2022', '29-11-2022', '30-11-2022', '01-12-2022', '02-12-2022', '03-12-2022', '04-12-2022', '05-12-2022'
    ];
    let yValues = [6, 4, 0, 5, 2, 6, 3, 5, 8, 5, 3, 6, 5, 3, 3, 6, 3, 2, 7, 2, 5, 6, 3, 8, 2, 5, 3, 4, 3, 4, 7, 3, 3, 5, 4, 4, 3, 3, 6, 8, 6, 6, 5, 7, 4, 2, 5, 8, 1, 3, 5, 3, 4, 7, 9, 7, 5, 2, 4, 4, 5, 4, 4, 6, 9, 9, 3, 3, 4, 4, 4, 4, 12, 4, 4, 4, 6, 5, 7, 7, 5, 6, 4, 2, 3, 9, 2, 3, 4, 4, 10, 4, 2, 5, 3, 3, 3, 0, 3, 4, 4, 4, 9, 2, 10, 6, 9, 3, 1, 4, 3, 7, 7, 5, 7, 7, 2, 7, 7, 3, 4, 3, 7, 5, 5, 5, 3, 5, 4, 9, 6, 3, 5, 1, 7, 10, 4, 3, 4, 1, 4, 1, 12, 1, 3, 5, 6, 5, 4, 7, 8, 2, 5, 4, 7, 7, 6, 10, 3, 5, 7, 5, 3, 5, 4, 3, 4, 6, 3, 4, 3, 6, 6, 2, 2, 1, 3, 5, 2, 5, 3, 4, 3, 6, 3, 4, 3, 3, 9, 2, 2, 8, 4, 3, 7, 4, 7, 4, 8, 2, 2, 4, 3, 4, 4, 4, 3, 5, 7, 5, 1, 3, 3, 6, 2, 1, 5, 8, 6, 8, 4, 4, 4, 5, 4, 4, 3, 5, 3, 5, 8, 1, 2, 5, 3, 5, 4, 3, 4, 2, 8, 4, 2, 8
    ];

    new Chart("linea", {
      type: "line",
      data: {
        labels: xValues,
        datasets: [{
          fill: false,
          lineTension: 0,
          backgroundColor: "#9368B7",
          borderColor: "#D8A7CA",
          data: yValues
        }]
      },
      options: {
        legend: { display: false },
        scales: {
          yAxes: [{ ticks: { min: 1, max: 14 } }],
        },
        title: {
          display: false,
          text: "Cantidad de actividades totales por día"
        }
      }
    });

    // grafico de torta =====================---------------------

    xValues = ["Música", "Deporte", "Ciencias", "Religión", "Política", "Tecnología", "Juegos", "Baile", "Comida", "Otro"];
    yValues = [80, 137, 108, 18, 34, 115, 142, 152, 158, 171];
    let barColors = [
      "#022F40",
      "#546363",
      "#846C5B",
      "#ECE7AC",
      "#74D3AE",
      "#7A9CC6",
      "#F49CBB",
      "#D8A7CA",
      "#F7B2AD",
      "#9368B7"

    ];

    new Chart("torta", {
      type: "pie",
      data: {
        labels: xValues,
        datasets: [{
          backgroundColor: barColors,
          data: yValues
        }]
      },
      options: {
        title: {
          display: false,
          text: "Cantidad de actividades totales según categoría"
        }
      }
    });


    // grafico de barras =====================---------------------

    new Chart("barra", {
      type: "bar",
      data: {
        labels: ["Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"],
        datasets: [
          {
            label: "Mañana",
            backgroundColor: "rgba(116, 211, 174,1)",
            data: [41, 59, 53, 40, 44, 42, 49, 43, 7]
          },
          {
            label: "Mediodía",
            backgroundColor: "rgba(122, 156, 198,1)",
            data: [39, 33, 53, 50, 51, 56, 39, 33, 9]
          },
          {
            label: "Tarde",
            backgroundColor: "rgba(244, 156, 187,1.0)",
            data: [28, 55, 46, 50, 53, 42, 44, 48, 8]
          }
        ]
      },
      options: {
        legend: { display: true },
        title: {
          display: false,
          text: "Total de actividades mensuales según horario"
        }
      }
    });

    function openGraph(evt, cityName) {
      let i;
      let x = document.getElementsByClassName("city");
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      let activebtn = document.getElementsByClassName("testbtn");
      for (i = 0; i < x.length; i++) {
        activebtn[i].className = activebtn[i].className.replace(" w3-dark-grey", "");
      }
      document.getElementById(cityName).style.display = "block";
      evt.currentTarget.className += " w3-dark-grey";
    }

    let mybtn = document.getElementsByClassName("testbtn")[0];
    mybtn.click();


  </script>


</body>

</html>